"use strict";(self.webpackChunkwallet=self.webpackChunkwallet||[]).push([[227],{245:function(n,e){e.Z={mobile:"screen and (min-width: 480px)",tablet:"screen and (min-width: 768px)",desktop:"screen and (min-width: 1280px)",maxTablet:"screen and (max-width: 767px)"}},4227:function(n,e,t){t.r(e),t.d(e,{default:function(){return cn}});var a,i,r=t(1413),o=t(5861),s=t(885),l=t(4687),c=t.n(l),d=t(2791),u=t(8268),p=t(3623),x=t(3622),h=t(168),g=t(6031),f=g.ZP.div(a||(a=(0,h.Z)(["\n  position: relative;\n  margin-bottom: 32px;\n"]))),b=g.ZP.p(i||(i=(0,h.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin: 0;\n  font-weight: 700;\n  font-size: 18px;\n  line-height: 1.5;\n"]))),m=function(n){if(!n)return"0.00";var e=n.toFixed(2).toString().slice(-6),t=n.toFixed(2).toString().slice(-9,-6),a=n.toFixed(2).toString().slice(-12,-9),i=n.toFixed(2).toString().slice(-15,-12),r=n.toFixed(2).toString().slice(-18,-15);return r?"".concat(r," ").concat(i," ").concat(a," ").concat(t," ").concat(e):i?"".concat(i," ").concat(a," ").concat(t," ").concat(e):a?"".concat(a," ").concat(t," ").concat(e):t?"".concat(t," ").concat(e):e},Z=t(5607),v=t(184);u.kL.register(u.qi,u.u);var j,A,w,y,C,k,P,S,z,F,E,R,D,B,I,N,Q=function(n){var e,t=n.balance,a=n.expenses,i=function(){var n=(0,d.useRef)(),e=(0,d.useState)(null),t=(0,s.Z)(e,2),a=t[0],i=t[1],r=(0,d.useRef)(new ResizeObserver((function(n){var e=n[0].contentRect.width;i(e)})));return(0,d.useEffect)((function(){r.current.observe(n.current)}),[n,r,a]),[n,a]}(),r=(0,s.Z)(i,2),o=r[0],l=r[1];(0,d.useEffect)((function(){for(var n in u.kL.instances)u.kL.instances[n].resize(l,l)}),[o,l]),e=a.length>0?{labels:a.map((function(n){return n.categoryName[0]})),datasets:[{data:a.map((function(n){return n.amount})),backgroundColor:x.Z.doughnutColors,borderColor:x.Z.doughnutColors,borderWidth:1}]}:{labels:["no data"],datasets:[{data:[1],backgroundColor:"#ababab",borderColor:x.Z.colors.accentSecondary,borderWidth:1}]};var c={cutout:"70%"};return(0,v.jsx)(Z.Z,{queries:{small:"(max-width: 767px)",medium:"(min-width: 768px) and (max-width: 1279px)",large:"(min-width: 1280px)"},children:function(n){return(0,v.jsx)(v.Fragment,{children:(n.small||n.medium||n.large)&&(0,v.jsxs)(f,{ref:o,children:[(0,v.jsx)(p.$I,{data:e,options:c,updateMode:"resize",redraw:!0}),(0,v.jsxs)(b,{children:["\u20b4"," ",m(t)]})]})})}})},L=t(5705),M=t(9065),T=t(245),q=(0,g.ZP)(L.l0)(j||(j=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n  gap: 20px;\n\n  @media "," {\n    flex-direction: row;\n  }\n"])),T.Z.tablet),U=g.ZP.div(A||(A=(0,h.Z)(["\n  position: relative;\n\n  @media "," {\n    flex-basis: 50%;\n  }\n\n  &::after {\n    content: '';\n    z-index: 2;\n    position: absolute;\n    display: block;\n    top: 50%;\n    transform: translate(0, -50%);\n    right: 21px;\n    width: 18px;\n    height: 9px;\n    /* background-color: blue; */\n    background: url(",");\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n    pointer-events: none;\n  }\n"])),T.Z.tablet,M),X=g.ZP.select(w||(w=(0,h.Z)(["\n  width: 100%;\n  height: 50px;\n  padding: 12px 20px;\n  border: 1px solid ",";\n  border-radius: 30px;\n  background-color: transparent;\n  /* gap: 20px; */\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  display: block;\n"])),x.Z.colors.primaryTextColor),Y=function(n){var e=n.onFilterChange,t=n.actDates,a=n.dates,i=(0,d.useState)((new Date).getMonth()+1),r=(0,s.Z)(i,2),o=r[0],l=r[1],c=(0,d.useState)((new Date).getFullYear()),u=(0,s.Z)(c,2),p=u[0],x=u[1],h=(0,d.useState)([]),g=(0,s.Z)(h,2),f=g[0],b=g[1];(0,d.useEffect)((function(){var n,e=null!==(n=t.map((function(n){return n.year})))&&void 0!==n?n:[];b(e)}),[t]);var m=function(n){return!t.find((function(e){return e.year===+a.year&&e.monthes.includes(+n)}))};return(0,v.jsx)("div",{children:(0,v.jsx)(L.J9,{initialValues:{month:"month",year:"year"},children:(0,v.jsxs)(q,{children:[(0,v.jsx)(U,{children:(0,v.jsxs)(L.gN,{as:X,name:"month",onChange:function(n){l(n.target.value),e({month:+n.target.value})},value:o,children:[(0,v.jsx)("option",{value:"01",disabled:m(1),children:"January"}),(0,v.jsx)("option",{value:"02",disabled:m(2),children:"February"}),(0,v.jsx)("option",{value:"03",disabled:m(3),children:"March"}),(0,v.jsx)("option",{value:"04",disabled:m(4),children:"April"}),(0,v.jsx)("option",{value:"05",disabled:m(5),children:"May"}),(0,v.jsx)("option",{value:"06",disabled:m(6),children:"June"}),(0,v.jsx)("option",{value:"07",disabled:m(7),children:"July"}),(0,v.jsx)("option",{value:"08",disabled:m(8),children:"August"}),(0,v.jsx)("option",{value:"09",disabled:m(9),children:"September"}),(0,v.jsx)("option",{value:"10",disabled:m(10),children:"October"}),(0,v.jsx)("option",{value:"11",disabled:m(11),children:"November"}),(0,v.jsx)("option",{value:"12",disabled:m(12),children:"December"})]})}),(0,v.jsx)(U,{children:(0,v.jsx)(L.gN,{as:X,name:"year",value:p,onChange:function(n){x(n.target.value),e({year:+n.target.value})},children:null!==f&&void 0!==f&&f.length?f.map((function(n){return(0,v.jsx)("option",{value:n,children:n},n)})):(0,v.jsx)("option",{value:p,disabled:!0,children:p},p)})})]})})})},J=g.ZP.div(y||(y=(0,h.Z)(["\n  height: 50px;\n  display: flex;\n  justify-content: space-between;\n  background-color: ",";\n  border-radius: 30px;\n"])),x.Z.colors.secondaryBg),O=g.ZP.div(C||(C=(0,h.Z)(["\n  padding: 15px 20px;\n  font-weight: 700;\n  font-size: 18px;\n  line-height: 1.5;\n  /* display: flex;\n  justify-content: space-between; */\n"]))),V=g.ZP.div(k||(k=(0,h.Z)(["\n  height: 54px;\n  padding: 15px 20px;\n  display: flex;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 1.13;\n  align-items: center;\n  border-bottom: 1px solid #dcdcdf;\n  box-shadow: 0px 1px 0px rgba(255, 255, 255, 0.6);\n"]))),G=g.ZP.span(P||(P=(0,h.Z)(["\n  height: 24px;\n  width: 24px;\n  margin-right: 16px;\n  background-color: ",";\n  border-radius: 2px;\n"])),(function(n){return n.color?n.color:"grey"})),H=g.ZP.span(S||(S=(0,h.Z)(["\n  margin-right: auto;\n"]))),W=g.ZP.span(z||(z=(0,h.Z)([""]))),K=g.ZP.div(F||(F=(0,h.Z)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 15px 20px;\n\n  font-weight: 700;\n  font-size: 16px;\n  line-height: 1.5;\n"]))),$=g.ZP.span(E||(E=(0,h.Z)([""]))),_=g.ZP.span(R||(R=(0,h.Z)(["\n  color: ",";\n"])),x.Z.colors.expenseColor),nn=g.ZP.span(D||(D=(0,h.Z)(["\n  color: ",";\n"])),x.Z.colors.accentPrimary),en=function(n){for(var e=n.statistics,t=[],a=0;a<e.expenses.length;a+=1){var i;t.push((0,v.jsxs)(V,{children:[(0,v.jsx)(G,{color:null!==(i=x.Z.doughnutColors[a])&&void 0!==i?i:x.Z.doughnutColors[a-38]}),(0,v.jsx)(H,{children:e.expenses[a].categoryName[0]}),(0,v.jsx)(W,{children:m(e.expenses[a].amount)})]},e.expenses[a].categoryId[0]))}return(0,v.jsxs)("div",{children:[(0,v.jsxs)(J,{children:[(0,v.jsx)(O,{children:"Category"}),(0,v.jsx)(O,{children:"Sum"})]}),t,(0,v.jsxs)(K,{children:[(0,v.jsx)($,{children:"Expenses:"}),(0,v.jsx)(_,{children:m(e.totalExpenses)})]}),(0,v.jsxs)(K,{children:[(0,v.jsx)($,{children:"Income:"}),(0,v.jsx)(nn,{children:m(e.totalIncome)})]})]})},tn=g.ZP.section(B||(B=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  @media "," {\n    flex-direction: row;\n    gap: 32px;\n  }\n  @media "," {\n    margin-top: 32px;\n    margin-left: 69px;\n    flex-basis: 715px;\n  }\n"])),T.Z.tablet,T.Z.desktop),an=g.ZP.div(I||(I=(0,h.Z)(["\n  &:nth-child(1) {\n    @media "," {\n      flex-basis: 45%;\n    }\n    @media "," {\n      flex-basis: 35%;\n    }\n  }\n  &:nth-child(2) {\n    flex-grow: 1;\n  }\n"])),T.Z.tablet,T.Z.desktop),rn=g.ZP.h1(N||(N=(0,h.Z)(["\n  margin-bottom: 8px;\n  font-family: ",";\n  font-weight: 400;\n  font-size: 30px;\n  line-height: 1.5;\n\n  @media "," {\n    margin-left: 15px;\n  }\n"])),x.Z.fontFamily.poppins,T.Z.desktop),on=t(851),sn=t(9434),ln=t(9085),cn=function(){var n=(0,d.useState)({month:(new Date).getMonth()+1,year:(new Date).getFullYear()}),e=(0,s.Z)(n,2),t=e[0],a=e[1],i=(0,d.useState)({expenses:[],totalExpenses:0,totalIncome:0,actDates:[]}),l=(0,s.Z)(i,2),u=l[0],p=l[1],x=(0,sn.v9)((function(n){return n.auth.user.balance}));(0,d.useEffect)((function(){(0,o.Z)(c().mark((function n(){var e,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,on.Z.getStatistics(t);case 3:e=n.sent,a=e.data,p(a),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),ln.Am.error("can't connect");case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()}),[t]);return(0,v.jsxs)(tn,{children:[(0,v.jsxs)(an,{children:[(0,v.jsx)(rn,{children:"Statistics"}),(0,v.jsx)(Q,{balance:x,expenses:u.expenses})]}),(0,v.jsxs)(an,{children:[(0,v.jsx)(Y,{onFilterChange:function(n){a((function(e){return(0,r.Z)((0,r.Z)({},e),n)}))},actDates:u.actDates,dates:t}),(0,v.jsx)(en,{statistics:u})]})]})}},9065:function(n){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABSSURBVHgBrdHdCQAgCARgR3CERnD/ZVqloB7E/vTsIIjwPqiIRpjyKXpT+xLCI9Nge4Cgxy6CPjsR1D3rGQzf5laA33tXzHzeAqQxi37BNOrCGt2NFm9ygZ0AAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=227.c36389ba.chunk.js.map