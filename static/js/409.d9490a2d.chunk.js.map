{"version":3,"file":"static/js/409.d9490a2d.chunk.js","mappings":"qOAEMA,EAAa,mCAAG,+GAEKC,IAAAA,IACrB,qDAHgB,gBAEVC,EAFU,EAEVA,KAIRC,aAAaC,QAAQ,eAAgBC,KAAKC,UAAUJ,EAAKA,KAAKK,WAN5C,oHAAH,qDAYnB,I,6BCQA,EAnBwB,WACtB,OACE,SAAC,IAAD,WACE,SAAC,KAAD,CACEC,OAAQ,GACRC,MAAO,GACPC,MAAM,UACNC,aAAc,GACdC,aAAa,GACbC,SAAS,EACTC,UAAU,eACVC,eAAe,UACfC,YAAa,EACbC,qBAAsB,O,sCCZjBC,EAAqBC,EAAAA,GAAAA,IAAH,4YAapBC,EAAAA,EAAAA,OAGAA,EAAAA,EAAAA,SAMEC,EAAeF,EAAAA,GAAAA,GAAH,2eAOCG,EASfF,EAAAA,EAAAA,OAIAA,EAAAA,EAAAA,SAMEG,EAAgBJ,EAAAA,GAAAA,GAAH,yNAQfC,EAAAA,EAAAA,SAOEI,EAAkBL,EAAAA,GAAAA,IAAH,4IAIjBC,EAAAA,EAAAA,OAGAA,EAAAA,EAAAA,SAKEK,EAAaN,EAAAA,GAAAA,EAAH,mIASVO,EAAmBP,EAAAA,GAAAA,EAAH,mICC7B,MA7EA,WACE,OAAgCQ,EAAAA,EAAAA,UAAS,IAAzC,eAAOpB,EAAP,KAAiBqB,EAAjB,KADkB,SAGHC,IAHG,uEAGlB,uFACQ3B,EAAOG,KAAKyB,MAAM3B,aAAa4B,QAAQ,mBACjB,IAAhB7B,EAAK8B,QACfJ,EAAY1B,GACZ+B,YAAW,WACT9B,aAAa+B,WAAW,kBACvB,MAEGC,EAAWC,aAAY,WAC3B,IAAMlC,EAAOG,KAAKyB,MAAM3B,aAAa4B,QAAQ,iBACzC7B,GAAQA,EAAK8B,OAAS,GACxBJ,EAAY1B,GACZmC,cAAcF,GACdF,YAAW,WACT9B,aAAa+B,WAAW,kBACvB,MAEHlC,MAED,KAnBP,4CAHkB,sBAyClB,OAfAsC,EAAAA,EAAAA,YAAU,WACRT,IACA,IAAMM,EAAWC,aAAY,WAC3BP,MACC,MAMH,OAJAU,OAAOC,SAAW,WAChBD,OAAOpC,aAAa+B,WAAW,iBAG1B,WACLG,cAAcF,MAEf,KAGD,UAACX,EAAD,YACE,UAACN,EAAD,YACE,SAACO,EAAD,wBACA,SAACA,EAAD,wBACA,SAACA,EAAD,uBAEF,SAACJ,EAAD,UACuB,IAApBd,EAASyB,QACR,SAAC,EAAD,IADD,OAGCzB,QAHD,IAGCA,OAHD,EAGCA,EAAUkC,KAAI,SAACC,EAAIC,GAAL,OACZ,UAACpB,EAAD,YACE,UAACG,EAAD,WACa,IAAViB,GAAe,MACL,IAAVA,GAAe,MACL,IAAVA,GAAe,eAElB,SAACjB,EAAD,UACa,IAAViB,GAAyB,IAAVA,EACZC,OAAOF,EAAGG,SAASC,QAAQ,GAC3BF,OAAOF,EAAGG,SAASC,QAAQ,MAEjC,SAACpB,EAAD,UACa,IAAViB,GAAyB,IAAVA,EACZC,OAAOF,EAAGK,UAAUD,QAAQ,GAC5BF,OAAOF,EAAGK,UAAUD,QAAQ,OAdpC,UAAuBH,GAAvB,OAA+BD,EAAGM,0B","sources":["components/Currency/CurrencyApi.jsx","components/Loader/LoaderComponent.jsx","components/Currency/Currency.styled.jsx","components/Currency/Currency.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst fetchCurrency = async () => {\n  try {\n    const { data } = await axios.get(\n      'https://wallet-api-nnb3.onrender.com/api/currency'\n    );\n\n    localStorage.setItem('currencyData', JSON.stringify(data.data.currency));\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport default fetchCurrency;\n","import { Oval } from 'react-loader-spinner';\nimport { LoaderComponentWrapper } from './Loader.styled';\n\nconst LoaderComponent = () => {\n  return (\n    <LoaderComponentWrapper>\n      <Oval\n        height={50}\n        width={50}\n        color=\"#4A56E2\"\n        wrapperStyle={{}}\n        wrapperClass=\"\"\n        visible={true}\n        ariaLabel=\"oval-loading\"\n        secondaryColor=\"#ffffff\"\n        strokeWidth={2}\n        strokeWidthSecondary={2}\n      />\n    </LoaderComponentWrapper>\n  );\n};\n\nexport default LoaderComponent;\n","import styled from 'styled-components';\nimport BackgroundPicture from '../../images/CurrencyBackground.png';\nimport device from 'assets/breakpoints/device';\n\nexport const CurrencyListHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  border-radius: 30px 30px 0px 0px;\n  background-color: #4a56e2;\n  opacity: 0.8;\n  padding: 12px 20px;\n  height: 50px;\n\n  @media (min-width: 400px) {\n    padding: 12px 40px;\n  }\n\n  @media ${device.tablet} {\n    padding: 12px 12px 12px 20px;\n  }\n  @media ${device.desktop} {\n    height: 60px;\n    padding: 16px 64px 16px 44px;\n  }\n`;\n\nexport const CurrencyList = styled.ul`\n  margin: 0;\n  height: 220px;\n  padding: 12px 20px 16px;\n  border-radius: 0px 0px 30px 30px;\n\n  background-color: #4a56e2;\n  background-image: url(${BackgroundPicture});\n  background-repeat: no-repeat;\n  background-position: bottom;\n  background-size: 100%;\n\n  @media (min-width: 400px) {\n    padding: 16px 40px 20px;\n  }\n\n  @media ${device.tablet} {\n    height: 132px;\n    padding: 16px 20px 20px;\n  }\n  @media ${device.desktop} {\n    height: 287px;\n    padding: 20px 61px 20px 58px;\n  }\n`;\n\nexport const CurrensyItems = styled.li`\n  display: flex;\n  justify-content: space-between;\n\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n\n  @media ${device.desktop} {\n    &:not(:last-child) {\n      margin-bottom: 24px;\n    }\n  }\n`;\n\nexport const CurrencyWrapper = styled.div`\n  margin: 0 auto;\n  width: 100%;\n\n  @media ${device.tablet} {\n    width: 336px;\n  }\n  @media ${device.desktop} {\n    width: 393px;\n  }\n`;\n\nexport const HeaderText = styled.p`\n  font-style: normal;\n  font-weight: 700;\n  font-size: 18px;\n  line-height: 27px;\n\n  color: #ffffff;\n`;\n\nexport const CurrencyInfoText = styled.p`\n  font-style: normal;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 24px;\n\n  color: #ffffff;\n`;\n","import React, { useEffect, useState } from 'react';\nimport fetchCurrency from './CurrencyApi';\nimport LoaderComponent from 'components/Loader/LoaderComponent';\nimport {\n  CurrensyItems,\n  CurrencyList,\n  CurrencyWrapper,\n  CurrencyListHeader,\n  HeaderText,\n  CurrencyInfoText,\n} from './Currency.styled';\n\nfunction Currency() {\n  const [currency, setCurrency] = useState([]);\n\n  async function readFromLocalStorage() {\n    const data = JSON.parse(localStorage.getItem('currencyData'));\n    if (data && data.length === 3) {\n      setCurrency(data);\n      setTimeout(() => {\n        localStorage.removeItem('currencyData');\n      }, 600000);\n    } else {\n      const interval = setInterval(() => {\n        const data = JSON.parse(localStorage.getItem('currencyData'));\n        if (data && data.length > 0) {\n          setCurrency(data);\n          clearInterval(interval);\n          setTimeout(() => {\n            localStorage.removeItem('currencyData');\n          }, 600000);\n        } else {\n          fetchCurrency();\n        }\n      }, 1000);\n    }\n  }\n\n  useEffect(() => {\n    readFromLocalStorage();\n    const interval = setInterval(() => {\n      readFromLocalStorage();\n    }, 1200000);\n\n    window.onunload = () => {\n      window.localStorage.removeItem('currencyData');\n    };\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n\n  return (\n    <CurrencyWrapper>\n      <CurrencyListHeader>\n        <HeaderText>Currency</HeaderText>\n        <HeaderText>Purchase</HeaderText>\n        <HeaderText>Sale</HeaderText>\n      </CurrencyListHeader>\n      <CurrencyList>\n        {currency.length === 0 ? (\n          <LoaderComponent />\n        ) : (\n          currency?.map((el, index) => (\n            <CurrensyItems key={`${index}${el.currencyCodeA}`}>\n              <CurrencyInfoText>\n                {index === 0 && 'USD'}\n                {index === 1 && 'EUR'}\n                {index === 2 && 'Ð„/$'}\n              </CurrencyInfoText>\n              <CurrencyInfoText>\n                {index === 0 || index === 1\n                  ? Number(el.rateBuy).toFixed(2)\n                  : Number(el.rateBuy).toFixed(3)}\n              </CurrencyInfoText>\n              <CurrencyInfoText>\n                {index === 0 || index === 1\n                  ? Number(el.rateSell).toFixed(2)\n                  : Number(el.rateSell).toFixed(3)}\n              </CurrencyInfoText>\n            </CurrensyItems>\n          ))\n        )}\n      </CurrencyList>\n    </CurrencyWrapper>\n  );\n}\n\nexport default Currency;\n"],"names":["fetchCurrency","axios","data","localStorage","setItem","JSON","stringify","currency","height","width","color","wrapperStyle","wrapperClass","visible","ariaLabel","secondaryColor","strokeWidth","strokeWidthSecondary","CurrencyListHeader","styled","device","CurrencyList","BackgroundPicture","CurrensyItems","CurrencyWrapper","HeaderText","CurrencyInfoText","useState","setCurrency","readFromLocalStorage","parse","getItem","length","setTimeout","removeItem","interval","setInterval","clearInterval","useEffect","window","onunload","map","el","index","Number","rateBuy","toFixed","rateSell","currencyCodeA"],"sourceRoot":""}